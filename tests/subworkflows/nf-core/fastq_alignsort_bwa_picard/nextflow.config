executor.cpus          = 12
executor.memory        = 15.GB
process {

    publishDir = { "${params.outdir}/${task.process.tokenize(':')[-1].tokenize('_')[0].toLowerCase()}" }
    withName:PICARD_ADDORREPLACEREADGROUPS{
        ext.args = "--RGID 4 --RGLB 'lib1' --RGPL 'ILLUMINA' --RGPU 'unit1' --RGSM 20"
    }
    withName: BWA_MEM {
        ext.args2 = { sort_bam ? "" : "-bh" }
    }
}
